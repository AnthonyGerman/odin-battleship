(()=>{"use strict";function t(t){return{length:t,timesHit:0,sunk:!1,hit(){this.timesHit+=1},isSunk(){this.timesHit>=this.length&&(this.sunk=!0)}}}function e(){return{coords:[],missedAttacks:[],placeShip(e,n,i){this.coords.push([t(e),n,i])},receiveAttack(t,e){this.coords.forEach((n=>{n[1]==t&&n[2]==e?(n[0].hit(),n[0].isSunk()):this.missedAttacks.push([t,e])}))},allSunk(){let t=0;return this.coords.forEach((e=>{e[0].sunk&&t++})),t==this.coords.length}}}function n(t,e=!1){for(;t.firstChild;)t.removeChild(t.firstChild);let n=0;for(;n<10;){let i=t.appendChild(document.createElement("div"));i.setAttribute("class","row"),i.setAttribute("id",n);let s=0;for(;s<10;){let n=i.appendChild(document.createElement("div"));n.setAttribute("class","square"),n.setAttribute("id",s),e||n.addEventListener("click",(()=>{window.dispatchEvent(new StorageEvent("storage",{key:parseInt(n.id)+1,newValue:parseInt(i.id)+1,oldValue:t.id}))})),s++}n++}}function i(t,e,n){document.getElementById(n).children[e-1].children[t-1].textContent="X"}function s(t,e){t.forEach((t=>{e.children[t[2]-1].children[t[1]-1].classList.add("shown")}))}const r=document.getElementById("player"),l=document.getElementById("ai"),o=document.getElementById("wintext"),d=e(),a=e();d.placeShip(3,2,1),d.placeShip(2,6,5),a.placeShip(1,3,2),a.placeShip(4,1,1),window.addEventListener("storage",(t=>{i(t.key,t.newValue,t.oldValue),a.receiveAttack(t.key,t.newValue),a.allSunk()&&(o.textContent="Player wins");let e=Math.floor(11*Math.random()),n=Math.floor(11*Math.random());i(e,n,"player"),d.receiveAttack(e,n),d.allSunk()&&(o.textContent="AI wins")})),n(r,!0),n(l),s(d.coords,r),s(a.coords,l)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxLQUFLRSxVQUN4QmhCLEVBQVczQixFQUFHQyxFQUFHLFVBQ2pCcUMsRUFBUW5DLGNBQWNILEVBQUdDLEdBRXJCcUMsRUFBUWhDLFlBQVkrQixFQUFRTixZQUFjLFVBQVMsSUFJM0R4QixFQUFZRSxHQUFRLEdBQ3BCRixFQUFZNkIsR0FFWkosRUFBVU0sRUFBUXpDLE9BQVFZLEdBQzFCdUIsRUFBVU8sRUFBSTFDLE9BQVF1QyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3NoaXAuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvY3JlYXRlYm9hcmQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3Nob3dhdHRhY2suanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3Nob3dzaGlwcy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvc2NyaXB0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNoaXAobGVuZ3RoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGVuZ3RoOiBsZW5ndGgsXG4gICAgICAgIHRpbWVzSGl0OiAwLFxuICAgICAgICBzdW5rOiBmYWxzZSxcbiAgICAgICAgaGl0KCkge3RoaXMudGltZXNIaXQgKz0gMX0sXG4gICAgICAgIGlzU3VuaygpIHtpZiAodGhpcy50aW1lc0hpdCA+PSB0aGlzLmxlbmd0aCkge3RoaXMuc3VuayA9IHRydWV9fVxuICAgIH1cbn1cbiIsImltcG9ydCBTaGlwIGZyb20gXCIuL3NoaXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2FtZWJvYXJkKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvb3JkczogW10sXG4gICAgICAgIG1pc3NlZEF0dGFja3M6IFtdLFxuICAgICAgICBwbGFjZVNoaXAobGVuZ3RoLCB4LCB5KSB7XG4gICAgICAgICAgICB0aGlzLmNvb3Jkcy5wdXNoKFtTaGlwKGxlbmd0aCksIHgsIHldKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVjZWl2ZUF0dGFjayh4LCB5KSB7XG4gICAgICAgICAgICB0aGlzLmNvb3Jkcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50WzFdID09IHggJiYgZWxlbWVudFsyXSA9PSB5KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uaGl0KCk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uaXNTdW5rKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1pc3NlZEF0dGFja3MucHVzaChbeCwgeV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBhbGxTdW5rKCkge1xuICAgICAgICAgICAgbGV0IHggPSAwO1xuICAgICAgICAgICAgdGhpcy5jb29yZHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFswXS5zdW5rKSB7eCsrO31cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHggPT0gdGhpcy5jb29yZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlQm9hcmQoZGl2LCBwbGF5ZXIgPSBmYWxzZSkge1xuICAgIHdoaWxlIChkaXYuZmlyc3RDaGlsZCkge1xuICAgICAgICBkaXYucmVtb3ZlQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpXG4gICAgfVxuXG4gICAgbGV0IHggPSAwO1xuICAgIHdoaWxlICh4IDwgMTApIHtcbiAgICAgICAgbGV0IHJvdyA9IGRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XG4gICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3JvdycpO1xuICAgICAgICByb3cuc2V0QXR0cmlidXRlKCdpZCcsIHgpO1xuICAgICAgICBsZXQgeSA9IDA7XG4gICAgICAgIHdoaWxlICh5IDwgMTApIHtcbiAgICAgICAgICAgIGxldCBzcXVhcmUgPSByb3cuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xuICAgICAgICAgICAgc3F1YXJlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnc3F1YXJlJyk7XG4gICAgICAgICAgICBzcXVhcmUuc2V0QXR0cmlidXRlKCdpZCcsIHkpO1xuICAgICAgICAgICAgaWYgKCFwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBzcXVhcmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBTdG9yYWdlRXZlbnQoJ3N0b3JhZ2UnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHBhcnNlSW50KHNxdWFyZS5pZCkgKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWU6IHBhcnNlSW50KHJvdy5pZCkgKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWU6IGRpdi5pZFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5Kys7XG4gICAgICAgIH1cbiAgICAgICAgeCsrO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzaG93QXR0YWNrKHgsIHksIGJvYXJkKSB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYm9hcmQpO1xuICAgIGNvbnN0IHJvdyA9IGRpdi5jaGlsZHJlblt5IC0gMV07XG4gICAgY29uc3Qgc3F1YXJlID0gcm93LmNoaWxkcmVuW3ggLSAxXTtcbiAgICBzcXVhcmUudGV4dENvbnRlbnQgPSAnWCc7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2hvd1NoaXBzKHNoaXBzLCBib2FyZCkge1xuICAgIHNoaXBzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGxldCByb3cgPSBib2FyZC5jaGlsZHJlbltlbGVtZW50WzJdIC0gMV07XG4gICAgICAgIGxldCBzcXVhcmUgPSByb3cuY2hpbGRyZW5bZWxlbWVudFsxXSAtIDFdO1xuICAgICAgICBzcXVhcmUuY2xhc3NMaXN0LmFkZCgnc2hvd24nKTtcbiAgICB9KTtcbn0iLCJpbXBvcnQgR2FtZWJvYXJkIGZyb20gXCIuL2dhbWVib2FyZFwiO1xuaW1wb3J0IGNyZWF0ZUJvYXJkIGZyb20gXCIuL2NyZWF0ZWJvYXJkXCI7XG5pbXBvcnQgc2hvd0F0dGFjayBmcm9tIFwiLi9zaG93YXR0YWNrXCI7XG5pbXBvcnQgc2hvd1NoaXBzIGZyb20gXCIuL3Nob3dzaGlwc1wiO1xuXG5jb25zdCBwbGF5ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyJyk7XG5jb25zdCBhaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhaScpO1xuY29uc3Qgd2ludGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW50ZXh0Jyk7XG5cbmNvbnN0IHBsYXllcmcgPSBHYW1lYm9hcmQoKTtcbmNvbnN0IGFpZyA9IEdhbWVib2FyZCgpO1xuXG5wbGF5ZXJnLnBsYWNlU2hpcCgzLCAyLCAxKTtcbnBsYXllcmcucGxhY2VTaGlwKDIsIDYsIDUpO1xuXG5haWcucGxhY2VTaGlwKDEsIDMsIDIpO1xuYWlnLnBsYWNlU2hpcCg0LCAxLCAxKTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCAoZXZlbnQpID0+IHtcbiAgICBzaG93QXR0YWNrKGV2ZW50LmtleSwgZXZlbnQubmV3VmFsdWUsIGV2ZW50Lm9sZFZhbHVlKTtcbiAgICBhaWcucmVjZWl2ZUF0dGFjayhldmVudC5rZXksIGV2ZW50Lm5ld1ZhbHVlKTtcbiAgICBpZiAoYWlnLmFsbFN1bmsoKSkge3dpbnRleHQudGV4dENvbnRlbnQgPSAnUGxheWVyIHdpbnMnfVxuICAgIGxldCB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTEpO1xuICAgIGxldCB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTEpO1xuICAgIHNob3dBdHRhY2soeCwgeSwgJ3BsYXllcicpO1xuICAgIHBsYXllcmcucmVjZWl2ZUF0dGFjayh4LCB5KTtcblxuICAgIGlmIChwbGF5ZXJnLmFsbFN1bmsoKSkge3dpbnRleHQudGV4dENvbnRlbnQgPSAnQUkgd2lucyd9XG4gICAgXG59KTtcblxuY3JlYXRlQm9hcmQocGxheWVyLCB0cnVlKTtcbmNyZWF0ZUJvYXJkKGFpKTtcblxuc2hvd1NoaXBzKHBsYXllcmcuY29vcmRzLCBwbGF5ZXIpO1xuc2hvd1NoaXBzKGFpZy5jb29yZHMsIGFpKTtcblxuXG4vKlxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCAoZXZlbnQpID0+IHtcbiAgICBzaG93QXR0YWNrKGV2ZW50LmtleSwgZXZlbnQubmV3VmFsdWUsIGV2ZW50Lm9sZFZhbHVlKTtcbiAgICBhaWcucmVjZWl2ZUF0dGFjayhldmVudC5rZXksIGV2ZW50Lm5ld1ZhbHVlKTtcbiAgICBpZiAoYWlnLmFsbFN1bmsoKSkge3dpbnRleHQudGV4dENvbnRlbnQgPSAnUGxheWVyIHdpbnMnfVxuXG4gICAgcGxheWVyZy5yZWNlaXZlQXR0YWNrKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDExKSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTEpKTtcblxuICAgIGlmIChwbGF5ZXJnLmFsbFN1bmsoKSkge3dpbnRleHQudGV4dENvbnRlbnQgPSAnQUkgd2lucyd9XG4gICAgXG59KTtcbiovIl0sIm5hbWVzIjpbIlNoaXAiLCJsZW5ndGgiLCJ0aW1lc0hpdCIsInN1bmsiLCJoaXQiLCJ0aGlzIiwiaXNTdW5rIiwiR2FtZWJvYXJkIiwiY29vcmRzIiwibWlzc2VkQXR0YWNrcyIsInBsYWNlU2hpcCIsIngiLCJ5IiwicHVzaCIsInJlY2VpdmVBdHRhY2siLCJmb3JFYWNoIiwiZWxlbWVudCIsImFsbFN1bmsiLCJjcmVhdGVCb2FyZCIsImRpdiIsInBsYXllciIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInJvdyIsImFwcGVuZENoaWxkIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwic3F1YXJlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsImRpc3BhdGNoRXZlbnQiLCJTdG9yYWdlRXZlbnQiLCJrZXkiLCJwYXJzZUludCIsImlkIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsInNob3dBdHRhY2siLCJib2FyZCIsImdldEVsZW1lbnRCeUlkIiwiY2hpbGRyZW4iLCJ0ZXh0Q29udGVudCIsInNob3dTaGlwcyIsInNoaXBzIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWkiLCJ3aW50ZXh0IiwicGxheWVyZyIsImFpZyIsImV2ZW50IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIl0sInNvdXJjZVJvb3QiOiIifQ==